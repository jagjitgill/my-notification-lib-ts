{"version":3,"file":"index.js","mappings":"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","sources":["webpack://MyLibrary/webpack/universalModuleDefinition","webpack://MyLibrary/./node_modules/websocket-ts/lib/backoff/backoff.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/backoff/constantbackoff.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/backoff/exponentialbackoff.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/backoff/linearbackoff.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/buffer/buffer.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/buffer/lrubuffer.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/buffer/timebuffer.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/index.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/websocket.js","webpack://MyLibrary/./node_modules/websocket-ts/lib/websocketBuilder.js","webpack://MyLibrary/webpack/bootstrap","webpack://MyLibrary/webpack/runtime/define property getters","webpack://MyLibrary/webpack/runtime/hasOwnProperty shorthand","webpack://MyLibrary/webpack/runtime/make namespace object","webpack://MyLibrary/./src/lib/utils/Logger.ts","webpack://MyLibrary/./src/lib/utils/Event.ts","webpack://MyLibrary/./src/lib/WSMessageEvents.ts","webpack://MyLibrary/./src/lib/WSNotificationClientSettings.ts","webpack://MyLibrary/./src/lib/WSNotificationClient.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MyLibrary\"] = factory();\n\telse\n\t\troot[\"MyLibrary\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=backoff.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConstantBackoff = void 0;\n/**\n * ConstantBackoff always returns the same value.\n */\nvar ConstantBackoff = /** @class */ (function () {\n    function ConstantBackoff(backoff) {\n        this.reset = function () {\n            // no-op\n        };\n        this.backoff = backoff;\n    }\n    ConstantBackoff.prototype.next = function () {\n        return this.backoff;\n    };\n    return ConstantBackoff;\n}());\nexports.ConstantBackoff = ConstantBackoff;\n//# sourceMappingURL=constantbackoff.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExponentialBackoff = void 0;\n/**\n * ExponentialBackoff doubles the backoff with every step until a maximum\n * is reached. This is modelled after the binary exponential-backoff algo-\n * rithm used in computer-networking.\n *\n * The calculation-specification is:\n *          backoff = k * 2^s with s in [1, expMax].\n *\n * Example: for initial=100, expMax=7 the ExponentialBackoff will pro-\n * duce the backoff-series [100, 200, 400, 800, 1600, 3200, 6400].\n */\nvar ExponentialBackoff = /** @class */ (function () {\n    function ExponentialBackoff(initial, expMax) {\n        this.initial = initial;\n        this.expMax = expMax;\n        this.expCurrent = 1;\n        this.current = this.initial;\n    }\n    ExponentialBackoff.prototype.next = function () {\n        var backoff = this.current;\n        if (this.expMax > this.expCurrent++)\n            this.current = this.current * 2;\n        return backoff;\n    };\n    ExponentialBackoff.prototype.reset = function () {\n        this.expCurrent = 1;\n        this.current = this.initial;\n    };\n    return ExponentialBackoff;\n}());\nexports.ExponentialBackoff = ExponentialBackoff;\n//# sourceMappingURL=exponentialbackoff.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinearBackoff = void 0;\n/**\n * LinearBackoff increases the backoff-time by a constant number with\n * every step. An optional maximum can be provided as an upper bound\n * to the returned backoff.\n *\n * Example: for initial=0, increment=2000, maximum=8000 the Linear-\n * Backoff will produce the series [0, 2000, 4000, 6000, 8000].\n */\nvar LinearBackoff = /** @class */ (function () {\n    function LinearBackoff(initial, increment, maximum) {\n        this.initial = initial;\n        this.increment = increment;\n        this.maximum = maximum;\n        this.current = this.initial;\n    }\n    LinearBackoff.prototype.next = function () {\n        var backoff = this.current;\n        var next = this.current + this.increment;\n        if (this.maximum === undefined)\n            this.current = next;\n        else if (next <= this.maximum)\n            this.current = next;\n        return backoff;\n    };\n    LinearBackoff.prototype.reset = function () {\n        this.current = this.initial;\n    };\n    return LinearBackoff;\n}());\nexports.LinearBackoff = LinearBackoff;\n//# sourceMappingURL=linearbackoff.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=buffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUBuffer = void 0;\n/**\n * LRUBuffer is a buffer that keeps the last n elements. When it is\n * full and written to, the oldest element in the buffer will be\n * replaced. When reading from the LRUBuffer, elements are returned\n * in FIFO-order (queue).\n *\n * LRUBuffer has linear space- and time-requirements. Internally\n * an array is used as a circular-buffer. All memory is allocated\n * on initialization.\n */\nvar LRUBuffer = /** @class */ (function () {\n    function LRUBuffer(len) {\n        this.writePtr = 0;\n        this.wrapped = false;\n        this.buffer = Array(len);\n    }\n    LRUBuffer.prototype.len = function () {\n        return this.wrapped ? this.buffer.length : this.writePtr;\n    };\n    LRUBuffer.prototype.cap = function () {\n        return this.buffer.length;\n    };\n    LRUBuffer.prototype.read = function (es) {\n        if (es === null || es === undefined || es.length === 0 || this.buffer.length === 0)\n            return 0;\n        if (this.writePtr === 0 && !this.wrapped)\n            return 0;\n        var first = this.wrapped ? this.writePtr : 0;\n        var last = (first - 1) < 0 ?\n            this.buffer.length - 1 :\n            first - 1;\n        for (var i = 0; i < es.length; i++) {\n            var r = (first + i) % this.buffer.length;\n            es[i] = this.buffer[r];\n            if (r === last)\n                return i + 1;\n        }\n        return es.length;\n    };\n    LRUBuffer.prototype.write = function (es) {\n        if (es === null || es === undefined || es.length === 0 || this.buffer.length === 0)\n            return 0;\n        var start = es.length > this.buffer.length ? es.length - this.buffer.length : 0;\n        for (var i = 0; i < es.length - start; i++) {\n            this.buffer[this.writePtr] = es[start + i];\n            this.writePtr = (this.writePtr + 1) % this.buffer.length;\n            if (this.writePtr === 0)\n                this.wrapped = true;\n        }\n        return es.length;\n    };\n    LRUBuffer.prototype.forEach = function (fn) {\n        if (this.writePtr === 0 && !this.wrapped)\n            return 0;\n        var cur = this.wrapped ? this.writePtr : 0;\n        var last = this.wrapped ? (cur - 1) < 0 ? this.buffer.length - 1 : cur - 1 : this.writePtr - 1;\n        var len = this.len();\n        while (true) {\n            fn(this.buffer[cur]);\n            if (cur === last)\n                break;\n            cur = (cur + 1) % this.buffer.length;\n        }\n        return len;\n    };\n    LRUBuffer.prototype.clear = function () {\n        this.writePtr = 0;\n        this.wrapped = false;\n    };\n    return LRUBuffer;\n}());\nexports.LRUBuffer = LRUBuffer;\n//# sourceMappingURL=lrubuffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeBuffer = void 0;\n/**\n * TimeBuffer keeps the elements that were written to the buffer\n * within maxAge milliseconds. For example, to  keep items in the\n * buffer that are less than a minute old, create the buffer with\n * maxAge equal to 60.000.\n *\n * When reading from the TimeBuffer, elements will be returned\n * in FIFO-order (queue).\n */\nvar TimeBuffer = /** @class */ (function () {\n    function TimeBuffer(maxAge) {\n        this.maxAge = maxAge;\n    }\n    TimeBuffer.prototype.cap = function () {\n        return Number.POSITIVE_INFINITY;\n    };\n    TimeBuffer.prototype.len = function () {\n        this.forwardTail();\n        var cur = this.tail;\n        var i = 0;\n        while (cur !== undefined) {\n            i++;\n            cur = cur.n;\n        }\n        return i;\n    };\n    TimeBuffer.prototype.read = function (es) {\n        this.forwardTail();\n        if (es.length === 0)\n            return 0;\n        var cur = this.tail;\n        var i = 0;\n        while (cur !== undefined) {\n            es[i++] = cur.e;\n            if (i === es.length)\n                break;\n            cur = cur.n;\n        }\n        return i;\n    };\n    TimeBuffer.prototype.write = function (es) {\n        for (var i = 0; i < es.length; i++)\n            this.putElement(es[i]);\n        return es.length;\n    };\n    TimeBuffer.prototype.forEach = function (fn) {\n        this.forwardTail();\n        var cur = this.tail;\n        var i = 0;\n        while (cur !== undefined) {\n            fn(cur.e);\n            i++;\n            cur = cur.n;\n        }\n        return i;\n    };\n    TimeBuffer.prototype.putElement = function (e) {\n        var newElement = { e: e, t: Date.now(), n: undefined };\n        if (this.tail === undefined)\n            this.tail = newElement;\n        if (this.head === undefined)\n            this.head = newElement;\n        else {\n            this.head.n = newElement;\n            this.head = newElement;\n        }\n    };\n    TimeBuffer.prototype.forwardTail = function () {\n        if (this.tail === undefined)\n            return;\n        var d = Date.now();\n        while (d - this.tail.t > this.maxAge) {\n            if (this.tail === this.head) {\n                this.tail = undefined;\n                this.head = undefined;\n            }\n            else\n                this.tail = this.tail.n;\n            if (this.tail === undefined)\n                break;\n        }\n    };\n    TimeBuffer.prototype.clear = function () {\n        // TODO\n    };\n    return TimeBuffer;\n}());\nexports.TimeBuffer = TimeBuffer;\n//# sourceMappingURL=timebuffer.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./backoff/backoff\"), exports);\n__exportStar(require(\"./backoff/constantbackoff\"), exports);\n__exportStar(require(\"./backoff/exponentialbackoff\"), exports);\n__exportStar(require(\"./backoff/linearbackoff\"), exports);\n__exportStar(require(\"./buffer/buffer\"), exports);\n__exportStar(require(\"./buffer/lrubuffer\"), exports);\n__exportStar(require(\"./buffer/timebuffer\"), exports);\n__exportStar(require(\"./websocket\"), exports);\n__exportStar(require(\"./websocketBuilder\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Websocket = exports.WebsocketEvents = void 0;\nvar WebsocketEvents;\n(function (WebsocketEvents) {\n    WebsocketEvents[\"open\"] = \"open\";\n    WebsocketEvents[\"close\"] = \"close\";\n    WebsocketEvents[\"error\"] = \"error\";\n    WebsocketEvents[\"message\"] = \"message\";\n    WebsocketEvents[\"retry\"] = \"retry\"; // A try to re-connect is made\n})(WebsocketEvents = exports.WebsocketEvents || (exports.WebsocketEvents = {}));\nvar Websocket = /** @class */ (function () {\n    function Websocket(url, protocols, buffer, backoff) {\n        var _this = this;\n        this.eventListeners = { open: [], close: [], error: [], message: [], retry: [] };\n        this.closedByUser = false;\n        this.retries = 0;\n        this.handleOpenEvent = function (ev) { return _this.handleEvent(WebsocketEvents.open, ev); };\n        this.handleCloseEvent = function (ev) { return _this.handleEvent(WebsocketEvents.close, ev); };\n        this.handleErrorEvent = function (ev) { return _this.handleEvent(WebsocketEvents.error, ev); };\n        this.handleMessageEvent = function (ev) { return _this.handleEvent(WebsocketEvents.message, ev); };\n        this.url = url;\n        this.protocols = protocols;\n        this.buffer = buffer;\n        this.backoff = backoff;\n        this.tryConnect();\n    }\n    Object.defineProperty(Websocket.prototype, \"underlyingWebsocket\", {\n        get: function () {\n            return this.websocket;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Websocket.prototype.send = function (data) {\n        var _a;\n        if (this.closedByUser)\n            return;\n        if (this.websocket === undefined || this.websocket.readyState !== this.websocket.OPEN)\n            (_a = this.buffer) === null || _a === void 0 ? void 0 : _a.write([data]);\n        else\n            this.websocket.send(data);\n    };\n    Websocket.prototype.close = function (code, reason) {\n        var _a;\n        this.closedByUser = true;\n        (_a = this.websocket) === null || _a === void 0 ? void 0 : _a.close(code, reason);\n    };\n    Websocket.prototype.addEventListener = function (type, listener, options) {\n        var eventListener = { listener: listener, options: options };\n        var eventListeners = this.eventListeners[type];\n        eventListeners.push(eventListener);\n    };\n    Websocket.prototype.removeEventListener = function (type, listener, options) {\n        this.eventListeners[type] =\n            this.eventListeners[type]\n                .filter(function (l) {\n                return l.listener !== listener && (l.options === undefined || l.options !== options);\n            });\n    };\n    Websocket.prototype.dispatchEvent = function (type, ev) {\n        var _this = this;\n        var listeners = this.eventListeners[type];\n        var onceListeners = [];\n        listeners.forEach(function (l) {\n            l.listener(_this, ev); // call listener\n            if (l.options !== undefined && l.options.once)\n                onceListeners.push(l);\n        });\n        onceListeners.forEach(function (l) { return _this.removeEventListener(type, l.listener, l.options); }); // remove 'once'-listeners\n    };\n    Websocket.prototype.tryConnect = function () {\n        if (this.websocket !== undefined) { // remove all event-listeners from broken socket\n            this.websocket.removeEventListener(WebsocketEvents.open, this.handleOpenEvent);\n            this.websocket.removeEventListener(WebsocketEvents.close, this.handleCloseEvent);\n            this.websocket.removeEventListener(WebsocketEvents.error, this.handleErrorEvent);\n            this.websocket.removeEventListener(WebsocketEvents.message, this.handleMessageEvent);\n            this.websocket.close();\n        }\n        this.websocket = new WebSocket(this.url, this.protocols); // create new socket and attach handlers\n        this.websocket.addEventListener(WebsocketEvents.open, this.handleOpenEvent);\n        this.websocket.addEventListener(WebsocketEvents.close, this.handleCloseEvent);\n        this.websocket.addEventListener(WebsocketEvents.error, this.handleErrorEvent);\n        this.websocket.addEventListener(WebsocketEvents.message, this.handleMessageEvent);\n    };\n    Websocket.prototype.handleEvent = function (type, ev) {\n        var _a, _b, _c;\n        switch (type) {\n            case WebsocketEvents.close:\n                if (!this.closedByUser) // failed to connect or connection lost, try to reconnect\n                    this.reconnect();\n                break;\n            case WebsocketEvents.open:\n                this.retries = 0;\n                (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.reset(); // reset backoff\n                (_b = this.buffer) === null || _b === void 0 ? void 0 : _b.forEach(this.send.bind(this)); // send all buffered messages\n                (_c = this.buffer) === null || _c === void 0 ? void 0 : _c.clear();\n                break;\n        }\n        this.dispatchEvent(type, ev); // forward to all listeners\n    };\n    Websocket.prototype.reconnect = function () {\n        var _this = this;\n        if (this.backoff === undefined) // no backoff, we're done\n            return;\n        var backoff = this.backoff.next();\n        setTimeout(function () {\n            _this.dispatchEvent(WebsocketEvents.retry, new CustomEvent(WebsocketEvents.retry, {\n                detail: {\n                    retries: ++_this.retries,\n                    backoff: backoff\n                }\n            }));\n            _this.tryConnect();\n        }, backoff);\n    };\n    return Websocket;\n}());\nexports.Websocket = Websocket;\n//# sourceMappingURL=websocket.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebsocketBuilder = void 0;\nvar websocket_1 = require(\"./websocket\");\n/**\n * Used to build Websocket-instances.\n */\nvar WebsocketBuilder = /** @class */ (function () {\n    function WebsocketBuilder(url) {\n        this.ws = null;\n        this.onOpenListeners = [];\n        this.onCloseListeners = [];\n        this.onErrorListeners = [];\n        this.onMessageListeners = [];\n        this.onRetryListeners = [];\n        this.url = url;\n    }\n    WebsocketBuilder.prototype.withProtocols = function (p) {\n        this.protocols = p;\n        return this;\n    };\n    WebsocketBuilder.prototype.withBackoff = function (backoff) {\n        this.backoff = backoff;\n        return this;\n    };\n    WebsocketBuilder.prototype.withBuffer = function (buffer) {\n        this.buffer = buffer;\n        return this;\n    };\n    WebsocketBuilder.prototype.onOpen = function (listener, options) {\n        this.onOpenListeners.push({ listener: listener, options: options });\n        return this;\n    };\n    WebsocketBuilder.prototype.onClose = function (listener, options) {\n        this.onCloseListeners.push({ listener: listener, options: options });\n        return this;\n    };\n    WebsocketBuilder.prototype.onError = function (listener, options) {\n        this.onErrorListeners.push({ listener: listener, options: options });\n        return this;\n    };\n    WebsocketBuilder.prototype.onMessage = function (listener, options) {\n        this.onMessageListeners.push({ listener: listener, options: options });\n        return this;\n    };\n    WebsocketBuilder.prototype.onRetry = function (listener, options) {\n        this.onRetryListeners.push({ listener: listener, options: options });\n        return this;\n    };\n    /**\n     * Multiple calls to build() will always return the same websocket-instance.\n     */\n    WebsocketBuilder.prototype.build = function () {\n        var _this = this;\n        if (this.ws !== null)\n            return this.ws;\n        this.ws = new websocket_1.Websocket(this.url, this.protocols, this.buffer, this.backoff);\n        this.onOpenListeners.forEach(function (h) { var _a; return (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.addEventListener(websocket_1.WebsocketEvents.open, h.listener, h.options); });\n        this.onCloseListeners.forEach(function (h) { var _a; return (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.addEventListener(websocket_1.WebsocketEvents.close, h.listener, h.options); });\n        this.onErrorListeners.forEach(function (h) { var _a; return (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.addEventListener(websocket_1.WebsocketEvents.error, h.listener, h.options); });\n        this.onMessageListeners.forEach(function (h) { var _a; return (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.addEventListener(websocket_1.WebsocketEvents.message, h.listener, h.options); });\n        this.onRetryListeners.forEach(function (h) { var _a; return (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.addEventListener(websocket_1.WebsocketEvents.retry, h.listener, h.options); });\n        return this.ws;\n    };\n    return WebsocketBuilder;\n}());\nexports.WebsocketBuilder = WebsocketBuilder;\n//# sourceMappingURL=websocketBuilder.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\n/**\n * Native interface\n *\n * @public\n */\nexport interface ILogger {\n    debug(...args: unknown[]): void;\n    info(...args: unknown[]): void;\n    warn(...args: unknown[]): void;\n    error(...args: unknown[]): void;\n}\n\nconst nopLogger: ILogger = {\n    debug: () => undefined,\n    info: () => undefined,\n    warn: () => undefined,\n    error: () => undefined,\n};\n\nlet level: number;\nlet logger: ILogger;\n\n/**\n * Log levels\n *\n * @public\n */\nexport enum Log {\n    NONE,\n    ERROR,\n    WARN,\n    INFO,\n    DEBUG\n}\n\n/**\n * Log manager\n *\n * @public\n */\nexport namespace Log { // eslint-disable-line @typescript-eslint/no-namespace\n    export function reset(): void {\n        level = Log.INFO;\n        logger = nopLogger;\n    }\n\n    export function setLevel(value: Log): void {\n        if (!(Log.NONE <= value && value <= Log.DEBUG)) {\n            throw new Error(\"Invalid log level\");\n        }\n        level = value;\n    }\n\n    export function setLogger(value: ILogger): void {\n        logger = value;\n    }\n}\n\n/**\n * Internal logger instance\n *\n * @public\n */\nexport class Logger {\n    private _method?: string;\n    public constructor(private _name: string) {}\n\n    public debug(...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public info(...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public warn(...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(this._name, this._method), ...args);\n        }\n    }\n    public error(...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(this._name, this._method), ...args);\n        }\n    }\n\n    public throw(err: Error): never {\n        this.error(err);\n        throw err;\n    }\n\n    public create(method: string): Logger {\n        const methodLogger: Logger = Object.create(this);\n        methodLogger._method = method;\n        methodLogger.debug(\"begin\");\n        return methodLogger;\n    }\n\n    public static createStatic(name: string, staticMethod: string): Logger {\n        const staticLogger = new Logger(`${name}.${staticMethod}`);\n        staticLogger.debug(\"begin\");\n        return staticLogger;\n    }\n\n    private static _format(name: string, method?: string) {\n        const prefix = `[${name}]`;\n        return method ? `${prefix} ${method}:` : prefix;\n    }\n\n    // helpers for static class methods\n    public static debug(name: string, ...args: unknown[]): void {\n        if (level >= Log.DEBUG) {\n            logger.debug(Logger._format(name), ...args);\n        }\n    }\n    public static info(name: string, ...args: unknown[]): void {\n        if (level >= Log.INFO) {\n            logger.info(Logger._format(name), ...args);\n        }\n    }\n    public static warn(name: string, ...args: unknown[]): void {\n        if (level >= Log.WARN) {\n            logger.warn(Logger._format(name), ...args);\n        }\n    }\n    public static error(name: string, ...args: unknown[]): void {\n        if (level >= Log.ERROR) {\n            logger.error(Logger._format(name), ...args);\n        }\n    }\n}\n\nLog.reset();\n","// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\n\nimport { Logger } from \"./Logger\";\n\n/**\n * @internal\n */\nexport type Callback<EventType extends unknown[]> = (...ev: EventType) => (Promise<void> | void);\n\n/**\n * @internal\n */\nexport class Event<EventType extends unknown[]> {\n    protected readonly _logger = new Logger(`Event('${this._name}')`);\n\n    private _callbacks: Array<Callback<EventType>> = [];\n\n    public constructor(protected readonly _name: string) {}\n\n    public addHandler(cb: Callback<EventType>): () => void {\n        this._callbacks.push(cb);\n        return () => this.removeHandler(cb);\n    }\n\n    public removeHandler(cb: Callback<EventType>): void {\n        const idx = this._callbacks.lastIndexOf(cb);\n        if (idx >= 0) {\n            this._callbacks.splice(idx, 1);\n        }\n    }\n\n    public raise(...ev: EventType): void {\n        this._logger.debug(\"raise:\", ...ev);\n        for (const cb of this._callbacks) {\n            void cb(...ev);\n        }\n    }\n}\n","import { Event } from \"./utils/Event\";\n\n/**\n * @public\n */\nexport type ConnectionOpenCallback = (connectionEvent?: any) => Promise<void> | void;\nexport type ConnectionCloseCallback = (connectionEvent?: any) => Promise<void> | void;\nexport type ConnectionErrorCallback = (connectionEvent?: any) => Promise<void> | void;\nexport type ConnectionRetryCallback = (connectionEvent?: any) => Promise<void> | void;\nexport type MessageReceivedCallback = (connectionEvent?: any) => Promise<void> | void;\n\nexport class WSMessageEvents {\n  private readonly _onConnectionOpen = new Event<[any]>(\"WS Connection Open\");\n  private readonly _onConnectionClose = new Event<[any]>(\"WS Connection Close\");\n  private readonly _onConnectionError = new Event<[any]>(\"WS Connection Error\");\n  private readonly _onConnectionRetry = new Event<[any]>(\"WS Connection Retry\");\n  private readonly _onMessageReceived = new Event<[any]>(\"WS Message Received\");\n\n  // ********* Connection Related ***********\n  /**\n   * @internal\n   */\n  public _raiseOnConnectionOpen(connectionEvent?: any): void {\n    this._onConnectionOpen.raise(connectionEvent);\n  }\n\n  /**\n   * Add callback: Raised when a WS connection opens.\n   */\n  public addConnectionOpen(cb: ConnectionOpenCallback): () => void {\n    return this._onConnectionOpen.addHandler(cb);\n  }\n\n  /**\n   * Add callback: Raised when a WS connection opens.\n   */\n  public removeConnectionOpen(cb: ConnectionOpenCallback): void {\n    this._onConnectionOpen.removeHandler(cb);\n  }\n\n  /**\n   * @internal\n   */\n  public _raiseOnConnectionClose(connectionEvent?: any): void {\n    this._onConnectionClose.raise(connectionEvent);\n  }\n\n  /**\n   * Add callback: Raised when a WS connection closes.\n   */\n  public addConnectionClose(cb: ConnectionCloseCallback): () => void {\n    return this._onConnectionClose.addHandler(cb);\n  }\n\n  /**\n   * Remove callback: Raised when a WS connection closes.\n   */\n  public removeConnectionClose(cb: ConnectionCloseCallback): void {\n    this._onConnectionClose.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  public _raiseOnConnectionError(connectionEvent?: any): void {\n    this._onConnectionError.raise(connectionEvent);\n  }\n\n  /**\n   * Add callback: Raised when a WS connection errors out.\n   */\n  public addConnectionError(cb: ConnectionErrorCallback): () => void {\n    return this._onConnectionError.addHandler(cb);\n  }\n\n  /**\n   * Remove callback: Raised when a WS connection errors out.\n   */\n  public removeConnectionError(cb: ConnectionErrorCallback): void {\n    this._onConnectionError.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  public _raiseOnConnectionRetry(connectionEvent?: any): void {\n    this._onConnectionRetry.raise(connectionEvent);\n  }\n\n  /**\n   * Remove callback: Raised when a WS connection is retried.\n   */\n  public addConnectionRetry(cb: ConnectionRetryCallback): () => void {\n    return this._onConnectionRetry.addHandler(cb);\n  }\n\n  /**\n   * Remove callback: Raised when a WS connection is retried.\n   */\n  public removeConnectionRetry(cb: ConnectionRetryCallback): void {\n    this._onConnectionRetry.removeHandler(cb);\n  }\n\n  // ********* Messages ***********\n  /**\n   * @internal\n   */\n  public _raiseOnMessageReceived(message: any): void {\n    this._onMessageReceived.raise(message);\n  }\n\n  /**\n   * Add callback: Raised when a WS message arrives.\n   */\n  public addMessageReceived(cb: MessageReceivedCallback): () => void {\n    return this._onMessageReceived.addHandler(cb);\n  }\n\n  /**\n   * Remove callback: Raised when a WS message arrives.\n   */\n  public removeMessageReceived(cb: MessageReceivedCallback): void {\n    this._onMessageReceived.removeHandler(cb);\n  }\n}\n","export interface WSNotificationClientSettings {\n  webSocketRemote: string;\n  exponentialBackoffInitial?: number;\n  exponentialBackoffExpMax?: number;\n}\n\nconst DefaultExponentialBackoffInitial = 100;\nconst DefaultExponentialBackoffExpMax = 7;\n\nexport class WSNotificationClientSettingsStore {\n  public readonly webSocketRemote: string;\n  public readonly exponentialBackoffInitial: number;\n  public readonly exponentialBackoffExpMax: number;\n\n  public constructor({\n    webSocketRemote,\n    exponentialBackoffInitial = DefaultExponentialBackoffInitial,\n    exponentialBackoffExpMax = DefaultExponentialBackoffExpMax,\n  }: WSNotificationClientSettings) {\n    this.webSocketRemote = webSocketRemote;\n    this.exponentialBackoffInitial = exponentialBackoffInitial;\n    this.exponentialBackoffExpMax = exponentialBackoffExpMax;\n  }\n}\n","import { WebsocketBuilder, ExponentialBackoff } from \"websocket-ts\";\nimport { WSMessageEvents } from \"./WSMessageEvents\";\nimport {\n  WSNotificationClientSettings,\n  WSNotificationClientSettingsStore,\n} from \"./WSNotificationClientSettings\";\nimport { Logger } from \"./utils/Logger\";\n\nexport class WSNotificationClient {\n  protected readonly _logger = new Logger('WSNotificationClient');\n  public readonly settings: WSNotificationClientSettingsStore;\n  public WebSocket?: any;\n  protected readonly _events: WSMessageEvents;\n\n  constructor(settings: WSNotificationClientSettings) {\n    this._logger.debug(\"Library constructor loaded\");\n    this.settings = new WSNotificationClientSettingsStore(settings);\n    this._events = new WSMessageEvents();\n  }\n\n  public connect = (): any => {\n    this.WebSocket = new WebsocketBuilder(this.settings.webSocketRemote)\n      .onOpen((_i, ev) => {\n        this._events._raiseOnConnectionOpen(ev);\n        this._logger.debug(\"Opened\", ev);\n      })\n      .onClose((_i, ev) => {\n        this._logger.debug(\"Closed, ev\");\n        this._events._raiseOnConnectionClose(ev);\n      })\n      .onError((_i, ev) => {\n        this._logger.error(\"Error\", ev);\n        this._events._raiseOnConnectionError(ev);\n      })\n      .onMessage((_i, ev) => {\n        this._logger.debug(\"Message\", ev?.data);\n        this.handleMessage(ev?.data);\n      })\n      .onRetry((_i, ev) => {\n        this._logger.warn(\"Retry\", ev);\n        this._events._raiseOnConnectionRetry(ev);\n      })\n      .withBackoff(\n        new ExponentialBackoff(\n          this.settings.exponentialBackoffInitial,\n          this.settings.exponentialBackoffExpMax\n        )\n      )\n      .build();\n  };\n\n  public get events(): WSMessageEvents {\n    return this._events;\n  }\n\n  private handleMessage = (message: any): void => {\n    const messageType = message.type ?? undefined;\n    switch (messageType) {\n      // Specific message event\n      case \"a.b.c\":\n        // this._events._raiseOnABC(message);\n        break;\n\n      default:\n        this._events._raiseOnMessageReceived(message);\n        break;\n    }\n  };\n}\n"],"names":["root","factory","exports","module","define","amd","self","Object","defineProperty","value","ConstantBackoff","backoff","this","reset","prototype","next","ExponentialBackoff","initial","expMax","expCurrent","current","LinearBackoff","increment","maximum","undefined","LRUBuffer","len","writePtr","wrapped","buffer","Array","length","cap","read","es","first","last","i","r","write","start","forEach","fn","cur","clear","TimeBuffer","maxAge","Number","POSITIVE_INFINITY","forwardTail","tail","n","e","putElement","newElement","t","Date","now","head","d","__createBinding","create","o","m","k","k2","enumerable","get","__exportStar","p","hasOwnProperty","call","WebsocketEvents","Websocket","url","protocols","_this","eventListeners","open","close","error","message","retry","closedByUser","retries","handleOpenEvent","ev","handleEvent","handleCloseEvent","handleErrorEvent","handleMessageEvent","tryConnect","websocket","configurable","send","data","_a","readyState","OPEN","code","reason","addEventListener","type","listener","options","eventListener","push","removeEventListener","filter","l","dispatchEvent","listeners","onceListeners","once","WebSocket","_b","_c","reconnect","bind","setTimeout","CustomEvent","detail","WebsocketBuilder","websocket_1","ws","onOpenListeners","onCloseListeners","onErrorListeners","onMessageListeners","onRetryListeners","withProtocols","withBackoff","withBuffer","onOpen","onClose","onError","onMessage","onRetry","build","h","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","key","obj","prop","Symbol","toStringTag","level","logger","_Log","nopLogger","debug","info","warn","Log","INFO","setLevel","NONE","DEBUG","Error","setLogger","Logger","_name","_classCallCheck","_logger","_len","arguments","args","_key","apply","_format","_method","concat","_logger2","_len2","_key2","WARN","_logger3","_len3","_key3","ERROR","_logger4","_len4","_key4","err","method","methodLogger","name","staticMethod","staticLogger","prefix","_logger5","_len5","_key5","_logger6","_len6","_key6","_logger7","_len7","_key7","_logger8","_len8","_key8","Event","_defineProperty","cb","_callbacks","removeHandler","idx","lastIndexOf","splice","_this$_logger","_step","_iterator","_createForOfIteratorHelper","s","done","f","WSMessageEvents","connectionEvent","_onConnectionOpen","raise","addHandler","_onConnectionClose","_onConnectionError","_onConnectionRetry","_onMessageReceived","WSNotificationClientSettingsStore","_createClass","_ref","webSocketRemote","_ref$exponentialBacko","exponentialBackoffInitial","_ref$exponentialBacko2","exponentialBackoffExpMax","WSNotificationClient","settings","_i","_events","_raiseOnConnectionOpen","_raiseOnConnectionClose","_raiseOnConnectionError","handleMessage","_raiseOnConnectionRetry","_message$type","_raiseOnMessageReceived"],"sourceRoot":""}